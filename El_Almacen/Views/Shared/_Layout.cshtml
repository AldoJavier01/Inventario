<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - El_Almacen</title>

    <!-- Bootstrap -->
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet" />
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <!-- Estilos personalizados -->
    <style>
        body {
            font-family: 'Segoe UI', sans-serif;
            background-color: #ffffff;
            color: #333;
            margin: 0;
            padding: 0;
        }

        h1, h2, h3 {
            color: #8B0000;
        }

        .btn-primary {
            background-color: #8B0000;
            border-color: #8B0000;
        }

            .btn-primary:hover {
                background-color: #a60000;
                border-color: #a60000;
            }

        .gold-text {
            color: #D4AF37;
            font-weight: 600;
        }

        .fashion-table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0 12px;
        }

            .fashion-table thead {
                background-color: #8B0000;
                color: white;
            }

            .fashion-table th,
            .fashion-table td {
                padding: 12px 20px;
                text-align: left;
            }

            .fashion-table tbody tr {
                background-color: #fff;
                border-radius: 8px;
                box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05);
                transition: transform 0.2s ease;
            }

                .fashion-table tbody tr:hover {
                    transform: scale(1.01);
                    background-color: #fff9f3;
                }

        .trash-icon {
            color: #8B0000;
            cursor: pointer;
            transition: color 0.2s ease;
        }

            .trash-icon:hover {
                color: #ff0000;
            }

        .form-control {
            border: 1px solid #ddd;
            border-radius: 6px;
            padding: 8px;
        }

        .form-label {
            font-weight: 600;
            color: #8B0000;
        }

        .form-section {
            background-color: #fff;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            padding: 30px;
        }

        .btn-danger-icon {
            background: none;
            border: none;
            padding: 0;
        }

            .btn-danger-icon svg {
                fill: #8B0000;
            }

            .btn-danger-icon:hover svg {
                fill: #ff0000;
            }

        a {
            color: #D4AF37; /* dorado */
            text-decoration: none;
            font-weight: 500;
        }

            a:hover {
                color: #b18f2c; /* dorado más oscuro */
                text-decoration: underline;
            }

    </style>
    <style>
        .highlight {
            background-color: #fff3cd;
            font-weight: bold;
            color: #8B0000;
            padding: 0 2px;
            border-radius: 4px;
        }
    </style>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const tables = document.querySelectorAll(".searchable-table");

            tables.forEach((table, index) => {
                const wrapper = document.createElement("div");
                wrapper.className = "searchable-wrapper mb-4";
                table.parentNode.insertBefore(wrapper, table);
                wrapper.appendChild(table);

                const searchInput = document.createElement("input");
                searchInput.type = "text";
                searchInput.placeholder = "Buscar...";
                searchInput.className = "form-control mb-3";
                searchInput.style.maxWidth = "300px";
                wrapper.insertBefore(searchInput, table);

                searchInput.addEventListener("keyup", function () {
                    const searchTerm = this.value.toLowerCase();
                    const rows = table.querySelectorAll("tbody tr");

                    rows.forEach(row => {
                        const cells = row.querySelectorAll("td");
                        let match = false;

                        cells.forEach(cell => {
                            const originalText = cell.textContent;
                            const lowerText = originalText.toLowerCase();

                            if (searchTerm && lowerText.includes(searchTerm)) {
                                match = true;
                                const regex = new RegExp(`(${searchTerm})`, 'gi');
                                const highlightedText = originalText.replace(regex, '<span class="highlight">$1</span>');
                                cell.innerHTML = highlightedText;
                            } else {
                                cell.innerHTML = originalText; // Reset
                            }
                        });

                        row.style.display = match || searchTerm === "" ? "" : "none";
                    });
                });
            });
        });
    </script>


</head>
<body>
    <div class="container mt-3">
        <div class="d-flex justify-content-end">
            <a href="@Url.Action("Index", "Home")" class="btn btn-link" style="color: #D4AF37; font-weight: 600;">
                ← Volver al inicio
            </a>
        </div>
    </div>

    <div class="container mt-2">
        <main role="main" class="pb-3">
            @RenderBody()
        </main>
    </div>

    @await RenderSectionAsync("Scripts", required: false)
</body>
</html>
